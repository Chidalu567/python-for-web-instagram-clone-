(self.webpackChunklite=self.webpackChunklite||[]).push([[118],{8538:(n,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>_});var t=r(94725),o=r(67294),i=r(12291),s=r(10117),u=r(52837),a=r(61250),c=r(25002),f=r(32956),l=r(67616),d=r(63038),v=r.n(d),p=r(59713),g=r.n(p),m=r(44059),h=r(14034);function w(){for(var n=new h.y,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(0===r.length)return n;var o=r.map((function(){return[]}));return r.forEach((function(e,r){e.observe((function(e){o[r].push(e),o.every((function(n){return n.length>0}))&&n.set(o.map((function(n){return n.shift()})))}))})),n}var b=function(n){return function(e){return g()({},n,e)}};const _=function(){var n,e,r,d,p,g,h,_,E,P;return o.useEffect((function(){var n=w(l.sY,l.wZ,l.vY).map((function(n){var e=v()(n,3),r=e[0],t=e[1],o=e[2];return{responseEndToLCP:new l.jb(r.response.end,t.end),responseEndToFCP:new l.jb(r.response.end,o.end)}})),e=w(l.sY,l.qH.map(b("fid")),l.vY.map(b("fcp")),l.wZ.map(b("lcp")),n);l.cA.observe((function(n){n||e.observe((function(n){var e=n.reduce((function(n,e){return Object.assign(n,e)}),{}),r=Object.keys(e).reduce((function(n,r){var t=e[r].duration;return n[r]=t%1==0?t:Number(t.toFixed(1)),n}),{}),t=document.children[0],o={html:null==t?void 0:t.innerHTML.length,redux:JSON.stringify(window.__PRELOADED_STATE__).length,apollo:JSON.stringify(window.__APOLLO_STATE__).length};m.t.log("client hydrated",{perf:r,sizes:o})}))})),l.Df.observe((function(n){return m.t.log("client resource sizes",{resources:n})}))}),[]),n=(0,i.v9)((function(n){return n.tracing.tracer})),e=(0,i.v9)((function(n){return n.tracing.originalSpan})),r=(0,i.v9)((function(n){return n.client.isBot})),d=(0,i.v9)((function(n){return n.client.routingEntity})),p=(0,i.v9)((function(n){return n.auroraPage.isAuroraPageEnabled})),g=(0,i.v9)((function(n){return n.session.user.id})),h=(0,i.v9)((function(n){return n.config.performanceTags})),_=(0,i.I0)(),E=(0,a.dh)(),P=(0,s.Av)(),o.useEffect((function(){var o;if(n&&P&&!r){var i=E(window.location.pathname),s=null!==(o=null==i?void 0:i.route.metricName)&&void 0!==o?o:"unidentified",a={"user.logged_in":(0,f.j)(g),"req.route_name":s,"req.route":s,"req.router":(null==d?void 0:d.type)||u.Cr.DEFAULT};h.forEach((function(n){return a["req.".concat(n)]=1}));var v={loggedIn:(0,f.j)(g),route:s,auroraPage:p},m=function(n){return Math.round(1e3*n)},w=function(e,r,t,o){var i=t.start,s=t.end,u=n.startSpan("timing.".concat(r),{childOf:e,tags:a}).setBeginMicros(m(i)).setEndMicros(m(s));return null!=o&&o(u),u.finish(),u};l.sY.observe((function(r){var o,i,s,u;P.reportRender(v,r);var f=n.startSpan("timing.navigation",{references:e?[(0,t.followsFrom)(e)]:void 0,tags:a}).setBeginMicros(m(r.load.start)).setEndMicros(m(r.load.end)).log({redirect_count:null!==(o=null===(i=window)||void 0===i||null===(s=i.performance)||void 0===s||null===(u=s.navigation)||void 0===u?void 0:u.redirectCount)&&void 0!==o?o:0});w(f,"beforeDomainLookup",r.beforeDomainLookup),w(f,"domainLookup",r.domainLookup),w(f,"connect",r.connect),w(f,"request",r.request),w(f,"response",r.response),w(f,"processing",r.processing);var l=r.overallFCP,d=r.client,p=r.render;null!=l&&w(f,"firstContentfulPaint",l),null!=d&&w(f,"client",d,(function(n){null!=p&&w(n,"render",p)})),f.finish(),_((0,c.YU)(f.generateTraceURL()))})),l.vY.observe((function(r){P.reportFirstContentfulPaint(v,r),n.startSpan("timing.firstContentfulPaint.v2",{references:e?[(0,t.followsFrom)(e)]:void 0,tags:a}).setBeginMicros(m(r.start)).setEndMicros(m(r.end)).finish()})),l.wZ.observe((function(r){P.reportLargestContentfulPaint(v,r),n.startSpan("timing.largestContentfulPaint",{references:e?[(0,t.followsFrom)(e)]:void 0,tags:a}).setBeginMicros(m(r.start)).setEndMicros(m(r.end)).finish()})),l.cA.observe((function(n){n&&P.reportUnsupportedPerfObserver(v)})),l.qH.observe((function(r){P.reportInput(v,r),n.startSpan("timing.input.first.delay",{references:e?[(0,t.followsFrom)(e)]:void 0,tags:a}).setBeginMicros(m(r.start)).setEndMicros(m(r.end)).finish()}))}}),[n]),null}},72864:(n,e,r)=>{"use strict";r.r(e),r.d(e,{init:()=>i,extractSpan:()=>s});var t=r(45573),o=r(94725),i=function(n){var e=n.name,r=n.host,i=n.token,s=n.appVersion,u=new t.Tracer({component_name:e,xhr_instrumentation:!1,access_token:i,collector_host:r,default_span_tags:{"component.version":s}});return(0,o.initGlobalTracer)(u),u},s=function(n,e){if(e)return n.extract(o.FORMAT_HTTP_HEADERS,e)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/instrumentation.b5262cb2.chunk.js.map